(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{KJ2N:function(s,n,t){"use strict";t.r(n),t.d(n,"ScansPageModule",(function(){return d}));var c=t("ofXK"),e=t("fXoL"),a=t("hWos"),i=t("rAQQ"),r=t("tyNb"),o=t("gN6Z");function b(s,n){if(1&s&&(e.Kb(0,"span"),e.gc(1),e.Jb()),2&s){const s=e.Sb();e.xb(1),e.hc(s.createDate)}}function p(s,n){if(1&s&&(e.Kb(0,"div",4),e.Ib(1,"progress",5),e.Tb(2,"async"),e.Jb()),2&s){const s=e.Sb();e.xb(1),e.Xb("value",e.Ub(2,1,s._scanningService.progress$))}}let u=(()=>{class s{constructor(s,n,t){this._scanningService=s,this._scansService=n,this._router=t,this._isInProgress=!1}set scan(s){s&&(this._scan=s,this.createDate=new Date(s.createDate).toDateString(),this._isInProgress=s.status!==i.b.Done,this._isInProgress&&this.watchScan())}ngOnInit(){}onClick(){this._scan&&this._router.navigate(["scan-details",this._scan.id])}watchScan(){var s;null===(s=this._sub)||void 0===s||s.unsubscribe(),this._sub=this._scanningService.status$.subscribe(s=>{this._scansService.updateScanStatus(this._scan.id,s),s===i.b.Done&&(this._isInProgress=!1,this._sub.unsubscribe())})}ngOnDestroy(){var s;null===(s=this._sub)||void 0===s||s.unsubscribe()}}return s.\u0275fac=function(n){return new(n||s)(e.Hb(i.a),e.Hb(a.a),e.Hb(r.c))},s.\u0275cmp=e.Bb({type:s,selectors:[["app-scan-container"]],inputs:{scan:"scan"},decls:5,vars:4,consts:[[1,"app-scan-container",3,"click"],["app-section-header-slot",""],[4,"ngIf"],["app-section-content-slot","",4,"ngIf"],["app-section-content-slot",""],["max","1.0",1,"w-100",3,"value"]],template:function(s,n){1&s&&(e.Kb(0,"app-section",0),e.Qb("click",(function(){return n.onClick()})),e.Kb(1,"div",1),e.gc(2),e.fc(3,b,2,1,"span",2),e.Jb(),e.fc(4,p,3,3,"div",3),e.Jb()),2&s&&(e.xb(2),e.jc(" ",n._scan.name," (",n._scan.status,") "),e.xb(1),e.Xb("ngIf",!n._isInProgress),e.xb(1),e.Xb("ngIf",n._isInProgress))},directives:[o.a,c.k],pipes:[c.b],styles:["[_nghost-%COMP%]{display:block}.app-scan-container[_ngcontent-%COMP%]{cursor:pointer}"]}),s})();function l(s,n){1&s&&e.Ib(0,"app-scan-container",1),2&s&&e.Xb("scan",n.$implicit)}let f=(()=>{class s{constructor(s){this._scansService=s}ngOnInit(){}}return s.\u0275fac=function(n){return new(n||s)(e.Hb(a.a))},s.\u0275cmp=e.Bb({type:s,selectors:[["app-scans"]],decls:2,vars:3,consts:[["class","mb-2",3,"scan",4,"ngFor","ngForOf"],[1,"mb-2",3,"scan"]],template:function(s,n){1&s&&(e.fc(0,l,1,1,"app-scan-container",0),e.Tb(1,"async")),2&s&&e.Xb("ngForOf",e.Ub(1,1,n._scansService.scans$))},directives:[c.j,u],pipes:[c.b],styles:[""]}),s})(),g=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=e.Bb({type:s,selectors:[["app-scans-page"]],decls:1,vars:0,template:function(s,n){1&s&&e.Ib(0,"app-scans")},directives:[f],styles:[""]}),s})();var h=t("0z7n");let _=(()=>{class s{}return s.\u0275mod=e.Fb({type:s}),s.\u0275inj=e.Eb({factory:function(n){return new(n||s)},imports:[[c.c,h.a]]}),s})();const v=[{path:"",component:g}];let d=(()=>{class s{}return s.\u0275mod=e.Fb({type:s}),s.\u0275inj=e.Eb({factory:function(n){return new(n||s)},imports:[[c.c,r.f.forChild(v),_]]}),s})()}}]);